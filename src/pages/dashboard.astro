---
import PageLayout from '../layouts/PageLayout.astro';
import BciDashboard from '../components/dashboard/BciDashboard';
import { getBciDevices } from '../lib/bci-data';
import { HOURGLASS_BANDS, HOURGLASS_WIDTHS } from '../lib/qif-constants';
import { getBrainViewData } from '../lib/brain-view-data';

const devices = getBciDevices();
const bands = HOURGLASS_BANDS.map((b, i) => ({ ...b, width: HOURGLASS_WIDTHS[i] }));
const brainViews = getBrainViewData();
---

<PageLayout
  title="Device Dashboard"
  description="Single-pane view of any BCI device: specs, brain regions, hourglass position, threats, and physics constraints. Select a device to see everything at once."
  breadcrumbs={[{ label: 'Research', href: '/whitepaper/' }, { label: 'Device Dashboard' }]}
  wide={true}
>
  <div class="mb-8">
    <h1 class="text-3xl sm:text-4xl font-bold font-[family-name:var(--font-heading)] mb-3">Device Dashboard</h1>
    <p class="text-base text-[var(--color-text-muted)] max-w-2xl">
      Select any BCI device to see its full profile: hardware specs, brain region targets, hourglass position, threat landscape, and physics constraints. One view, all data.
    </p>
  </div>

  <BciDashboard
    client:only="react"
    devices={devices}
    bands={bands}
    brainViews={brainViews}
  />
</PageLayout>
