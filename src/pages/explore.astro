---
import PageLayout from '../layouts/PageLayout.astro';
import { THREAT_VECTORS, THREAT_TACTICS } from '../lib/threat-data';

const totalTechniques = THREAT_VECTORS.length;
const totalTactics = THREAT_TACTICS.length;
---

<PageLayout
  title="Explore QIF"
  description="Interactive visualizations and tools for exploring the Quantified Interconnection Framework â€” layer explorer, equation simulator, threat map, and more."
  breadcrumbs={[{ label: 'Explore' }]}
  wide={true}
>
  <div class="mb-12">
    <h1 class="text-3xl sm:text-4xl font-bold font-[family-name:var(--font-heading)] mb-4">Explore QIF</h1>
    <p class="text-lg text-[var(--color-text-muted)] max-w-2xl">
      Interactive visualizations and tools for exploring the Quantified Interconnection Framework. Click into layers, simulate attacks, and validate equations.
    </p>
  </div>

  <!-- Primary Visualizations -->
  <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-16">
    <a href="/atlas/" class="explore-card glass rounded-xl p-6 block group relative overflow-hidden">
      <div class="absolute top-3 right-3">
        <span class="text-[10px] px-2 py-0.5 rounded-full bg-[var(--color-accent-primary)]/10 text-[var(--color-accent-primary)] font-semibold uppercase tracking-wider">New</span>
      </div>
      <div class="text-3xl mb-4 text-[var(--color-accent-primary)]">&#9830;</div>
      <h2 class="text-lg font-semibold font-[family-name:var(--font-heading)] mb-2 group-hover:text-[var(--color-accent-secondary)] transition-colors">Unified Atlas</h2>
      <p class="text-sm text-[var(--color-text-muted)] mb-4">
        Hourglass and 3D brain side-by-side with linked interaction. Click any band or region to explore devices, neurorights, DSM-5, and security controls.
      </p>
      <span class="text-xs font-[family-name:var(--font-mono)] text-[var(--color-accent-secondary)]">&rarr; Atlas Dashboard</span>
    </a>
    <a href="/lab/hourglass.html" class="explore-card glass rounded-xl p-6 block group relative overflow-hidden">
      <div class="absolute top-3 right-3">
        <span class="text-[10px] px-2 py-0.5 rounded-full bg-[var(--color-accent-primary)]/10 text-[var(--color-accent-primary)] font-semibold uppercase tracking-wider">Featured</span>
      </div>
      <div class="text-3xl mb-4 text-[var(--color-status-warn)]">&#9632;</div>
      <h2 class="text-lg font-semibold font-[family-name:var(--font-heading)] mb-2 group-hover:text-[var(--color-accent-secondary)] transition-colors">Layer Explorer</h2>
      <p class="text-sm text-[var(--color-text-muted)] mb-4">
        Drill into all 11 hourglass bands. Click any layer to see attack vectors, real BCI devices, frequency ranges, and clinical severity ratings.
      </p>
      <span class="text-xs font-[family-name:var(--font-mono)] text-[var(--color-accent-secondary)]">&rarr; Interactive hourglass</span>
    </a>
    <a href="/TARA/" class="explore-card glass rounded-xl p-6 block group relative overflow-hidden">
      <div class="absolute top-3 right-3">
        <span class="text-[10px] px-2 py-0.5 rounded-full bg-[var(--color-status-danger)]/10 text-[var(--color-status-danger)] font-semibold uppercase tracking-wider">{totalTechniques} techniques</span>
      </div>
      <div class="text-3xl mb-4 text-[var(--color-status-danger)]">&#9888;</div>
      <h2 class="text-lg font-semibold font-[family-name:var(--font-heading)] mb-2 group-hover:text-[var(--color-accent-secondary)] transition-colors">TARA Atlas</h2>
      <p class="text-sm text-[var(--color-text-muted)] mb-4">
        {totalTechniques} BCI techniques mapped across security, clinical, governance, and engineering projections. Every attack vector is also a therapeutic application.
      </p>
      <span class="text-xs font-[family-name:var(--font-mono)] text-[var(--color-accent-secondary)]">&rarr; Therapeutic Applications &amp; Risk Assessment</span>
    </a>
    <a href="/explorer/" class="explore-card glass rounded-xl p-6 block group relative overflow-hidden">
      <div class="absolute top-3 right-3">
        <span class="text-[10px] px-2 py-0.5 rounded-full bg-[var(--color-accent-tertiary)]/10 text-[var(--color-accent-tertiary)] font-semibold uppercase tracking-wider">New</span>
      </div>
      <div class="text-3xl mb-4 text-[var(--color-accent-tertiary)]">&#10038;</div>
      <h2 class="text-lg font-semibold font-[family-name:var(--font-heading)] mb-2 group-hover:text-[var(--color-accent-secondary)] transition-colors">Threat Explorer</h2>
      <p class="text-sm text-[var(--color-text-muted)] mb-4">
        Graph-based attack chain visualizer. Search for an outcome, see connected vectors, pivot through the kill chain, and watch the hourglass light up.
      </p>
      <span class="text-xs font-[family-name:var(--font-mono)] text-[var(--color-accent-secondary)]">&rarr; Attack chain graph</span>
    </a>
    <a href="/bci/" class="explore-card glass rounded-xl p-6 block group relative overflow-hidden">
      <div class="absolute top-3 right-3">
        <span class="text-[10px] px-2 py-0.5 rounded-full bg-[var(--color-accent-primary)]/10 text-[var(--color-accent-primary)] font-semibold uppercase tracking-wider">New</span>
      </div>
      <div class="text-3xl mb-4 text-[var(--color-accent-primary)]">&#9670;</div>
      <h2 class="text-lg font-semibold font-[family-name:var(--font-heading)] mb-2 group-hover:text-[var(--color-accent-secondary)] transition-colors">BCI Dashboard</h2>
      <p class="text-sm text-[var(--color-text-muted)] mb-4">
        Single-pane view of any BCI device. Select a device to see specs, brain regions, hourglass position, threats, and physics constraints all at once.
      </p>
      <span class="text-xs font-[family-name:var(--font-mono)] text-[var(--color-accent-secondary)]">&rarr; BCI Dashboard</span>
    </a>
  </div>

  </div>
</PageLayout>

<style>
  .explore-card {
    transition: transform 0.2s ease, border-color 0.2s ease;
    text-decoration: none;
  }
  .explore-card:hover {
    transform: translateY(-2px);
    border-color: var(--color-border-hover);
  }
</style>
