---
import { QIF_VERSION, QIF_ARCHITECTURE } from '../lib/qif-constants';
const year = new Date().getFullYear();

const sections = [
  {
    title: 'Technology',
    links: [
      { href: '/framework/', label: 'QIF Framework' },
      { href: '/nsp/', label: 'NSP Protocol' },
      { href: '/runemate/', label: 'Project Runemate' },
      { href: '/TARA/', label: 'TARA Atlas' },
      { href: '/scoring/', label: 'NISS Scoring' },
    ],
  },
  {
    title: 'Resources',
    links: [
      { href: '/whitepaper/', label: 'Latest Whitepaper (v6.2.1)' },
      { href: 'https://github.com/qinnovates/qinnovate/blob/main/docs/docs/api.md', label: 'API Documentation' },
      { href: '/news/', label: 'News' },
      { href: '/lab/', label: 'QIF Lab' },
      { href: '/rss.xml', label: 'RSS Feed' },
    ],
  },
  {
    title: 'Connect',
    links: [
      { href: '/whitepaper/', label: 'QIF Whitepaper' },
      { href: 'https://github.com/qinnovates', label: 'GitHub' },

      { href: '/about/', label: 'About' },
      { href: '/licensing/', label: 'Licensing' },
      { href: 'https://github.com/qinnovates/qinnovate/tree/main/governance', label: 'Governance (GitHub)' },
    ],
  },
];
---

<footer class="border-t border-[var(--color-border)] mt-24 relative overflow-hidden">
  <!-- Background brand mark -->
  <div class="footer-brand-bg select-none pointer-events-none" aria-hidden="true">
    <span class="footer-brand font-bold font-[family-name:var(--font-heading)] leading-none bg-gradient-to-r from-[var(--color-accent-primary)] via-[var(--color-accent-secondary)] to-[var(--color-accent-tertiary)] bg-clip-text text-transparent">
      QINNOVATE
    </span>
  </div>

  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <!-- Brand column -->
      <div class="col-span-2 md:col-span-1">
        <a href="/" class="text-xl font-bold font-[family-name:var(--font-heading)] text-[var(--color-text-primary)]">
          Qinnovate Open Neural Atlas
        </a>
        <p class="mt-3 text-sm text-[var(--color-text-muted)] leading-relaxed">
          Neurostandards â€” open frameworks for the governance of neurotechnology.
        </p>
        <p class="mt-4 text-xs text-[var(--color-text-faint)]">
          QIF v{QIF_VERSION} {QIF_ARCHITECTURE} &middot; Open Framework
        </p>
      </div>

      {sections.map((section) => (
        <div>
          <h3 class="text-sm font-semibold text-[var(--color-text-primary)] uppercase tracking-wider mb-4">
            {section.title}
          </h3>
          <ul class="space-y-3">
            {section.links.map((link) => (
              <li>
                <a
                  href={link.href}
                  class="text-sm text-[var(--color-text-muted)] hover:text-[var(--color-accent-primary)] transition-colors"
                  {...(link.href.startsWith('http') ? { target: '_blank', rel: 'noopener noreferrer' } : {})}
                >
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>

    <div class="mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
      <p class="text-xs text-[var(--color-text-faint)]">
        &copy; {year} Qinnovate Open Neural Atlas. An open research framework.
      </p>
    </div>
  </div>
</footer>

<style>
  .footer-brand-bg {
    position: absolute;
    bottom: 0;
    right: -10%;
    display: flex;
    align-items: flex-end;
    z-index: 0;
  }

  .footer-brand {
    font-size: clamp(5rem, 18vw, 16rem);
    letter-spacing: -0.03em;
    opacity: 0.07;
    line-height: 0.8;
  }
</style>
